const MIN_DESKTOP_WIDTH=1200;function initSliders(){const t=document.getElementById("slider");t&&new Carousel(t,{infinite:!1});const e=document.getElementById("product-slider"),o=document.querySelectorAll("[data-jump-to]");if(e){const t=new Carousel(e,{Dots:!1,Thumbs:{type:"classic"}},{Thumbs:Thumbs});t&&o.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();const o=e.target.getAttribute("data-jump-to"),i=t.slides.findIndex(t=>t.el.id===o);-1!==i&&t.slideTo(i)})})}}function initDesktopMenu(){const t=document.getElementById("desktop-menu-button"),e=document.getElementById("desktop-menu"),o=document.getElementById("main-header"),i=document.getElementById("shadow-for-menu");let n=!1;function s(){t.classList.remove("open"),e.classList.remove("open"),i.classList.remove("open"),document.body.style.overflow="",n=!1,window.removeEventListener("resize",c)}function c(){window.innerWidth<MIN_DESKTOP_WIDTH&&s()}t&&e&&(i.addEventListener("click",()=>{s()}),t.addEventListener("click",()=>{n?s():(t.classList.add("open"),e.classList.add("open"),i.classList.add("open"),e.style.top=`${o.offsetHeight+o.getBoundingClientRect().top}px`,e.style.maxHeight=`${window.innerHeight-o.offsetHeight-o.getBoundingClientRect().top}px`,document.body.style.overflow="hidden",n=!0,window.addEventListener("resize",c))}))}function initMobileMenu(){const t=document.getElementById("mobile-menu-button"),e=document.getElementById("mobile-menu"),o=document.getElementById("main-header");let i=!1;function n(){e.classList.remove("open"),t.classList.remove("open"),document.body.style.overflow="",i=!1,window.removeEventListener("resize",s)}function s(){window.innerWidth>=MIN_DESKTOP_WIDTH&&n()}t&&e&&t.addEventListener("click",()=>{i?n():(e.classList.add("open"),t.classList.add("open"),e.style.top=`${o.offsetHeight+o.getBoundingClientRect().top}px`,e.style.height=`${window.innerHeight-o.offsetHeight}px`,e.style.maxHeight="100svh",document.body.style.overflow="hidden",i=!0,window.addEventListener("resize",s))})}function initHover(){document.querySelectorAll(".component-project-categories__card").forEach(t=>{const e=t.closest(".row").querySelectorAll(".component-project-categories__card");t.addEventListener("mouseenter",()=>{e.forEach(t=>{t.classList.add("component-project-categories__card--unfocus")}),t.classList.remove("component-project-categories__card--unfocus"),t.classList.add("component-project-categories__card--onfocus")}),t.addEventListener("mouseleave",()=>{e.forEach(t=>{t.classList.remove("component-project-categories__card--unfocus"),t.classList.remove("component-project-categories__card--onfocus")})})})}function initSlider(){const t=document.getElementById("slider");t&&new Carousel(t,{infinite:!1})}document.addEventListener("DOMContentLoaded",function(){Fancybox.bind("[data-fancybox]",{}),initSlider();const t=document.querySelector(".component-faq");t&&new Accordion(t,{activeClass:"component-faq__card--active",multiple:!0}),initHover(),initDesktopMenu(),initMobileMenu(),initSliders()});const defaultOptions={duration:300,initAccessibility:!0,openInInit:null,multiple:!1,collapse:!0,accordionItem:"[data-accordion]",accordionItemButton:"[data-accordion-button]",accordionItemBody:"[data-accordion-body]",activeClass:"js-accordion-open"};class Accordion{constructor(t,e){this.options=Object.assign({},defaultOptions,e),this.elements=t.querySelectorAll(this.options.accordionItem),0===this.options.activeClass.length&&console.error("Ошибка: Наличие активного класса обязательно для продолжения работы скрипта!"),this.addEvent()}addEvent(){for(let t=0;t<this.elements.length;t++){const e=this.elements[t],o=e.querySelector(this.options.accordionItemButton),i=e.querySelector(this.options.accordionItemBody);if(o||console.error("Ошибка: Не найдена кнопка аккордиона у элемента",e),i||console.error("Ошибка: Не найдено тело аккордиона у элемента",e),o.addEventListener("click",()=>{this.toggle(t)}),i.style.transitionDuration=this.options.duration+"ms",i.style.overflow="hidden",i.addEventListener("transitionend",()=>{"0px"!==i.style.height&&(i.style.height="")}),this.options.initAccessibility){const e=i.getAttribute("id")?i.getAttribute("id"):this.options.accordionItemBody.replace(/[^\w\s]/gi,"")+"-"+t,n=o.getAttribute("id")?i.getAttribute("id"):this.options.accordionItemButton.replace(/[^\w\s]/gi,"")+"-"+t;o.setAttribute("id",n),o.setAttribute("type","button"),o.setAttribute("role","button"),o.setAttribute("aria-expanded","true"),o.setAttribute("aria-disabled","false"),o.setAttribute("aria-controls",e),i.setAttribute("id",e),i.setAttribute("role","region"),i.setAttribute("aria-labelledby",n)}}this.closeAll(),null!==this.options.openInInit&&this.open(this.options.openInInit)}getOpenAccordionCount(){let t=0;for(let e=0;e<this.elements.length;++e)this.elements[e].classList.contains(this.options.activeClass)&&t++;return t}open(t,e=!1){const o=this.elements[t];if(o){this.options.multiple||e||this.closeAll();const t=o.querySelector(this.options.accordionItemBody);if(t.style.height=t.scrollHeight+"px",o.classList.add(this.options.activeClass),this.options.initAccessibility){const t=o.querySelector(this.options.accordionItemButton);t.setAttribute("aria-expanded","true"),t.setAttribute("aria-disabled","true")}}}close(t){const e=this.elements[t];if(e){const t=e.querySelector(this.options.accordionItemBody);t.style.height=t.scrollHeight+"px",setTimeout(()=>{if(e.classList.remove(this.options.activeClass),t.style.height="0",this.options.initAccessibility){const t=e.querySelector(this.options.accordionItemButton);t.setAttribute("aria-expanded","false"),t.setAttribute("aria-disabled","false")}},100)}}toggle(t){const e=this.elements[t];e&&(e.classList.contains(this.options.activeClass)?(this.options.collapse||this.getOpenAccordionCount()>1)&&this.close(t):this.open(t))}toggleAll(){for(let t=0;t<this.elements.length;t++)this.toggle(t)}openAll(){for(let t=0;t<this.elements.length;t++)this.open(t,!0)}closeAll(){for(let t=0;t<this.elements.length;t++)this.close(t)}}